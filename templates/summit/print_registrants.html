{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kenya Software Summit 2025 - Connecting minds, Shaping software, Driving growth </title>

    <!-- Fontawesome -->
    <link rel="stylesheet" href="{% static 'fonts/fontawesome/css/all.min.css' %}" rel="stylesheet">

    <!-- Favicons -->
    <link href="{% static 'images/summit_logo.ico' %}" rel="icon">
    <link href="{% static 'images/apple-touch-icon.png' %}" rel="apple-touch-icon">

    <!-- Vendor CSS Files -->
    <link href="{% static 'vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'vendor/bootstrap-icons/bootstrap-icons.css' %}" rel="stylesheet">
    <link href="{% static 'vendor/aos/aos.css' %}" rel="stylesheet">
    <link href="{% static 'vendor/glightbox/css/glightbox.min.css' %}" rel="stylesheet">
    <link href="{% static 'vendor/swiper/swiper-bundle.min.css' %}" rel="stylesheet">

    <!-- Main CSS File -->
    <link href="{% static 'css/print.css' %}" rel="stylesheet">
</head>
<body>
  <div class="container">

    <!-- Cover Page -->
    <div class="cover-page">
      <img src="{% static 'images/summit_logo.png' %}" alt="Event Logo">
      <h>Kenya Software Summit {% now " Y " %}</h1>
      <p><strong>Official Registration Report</strong></p>
      <p><small>Generated on {% now "M d, Y H:i" %}</small></p>

      <!-- Summary Stats -->
      <div class="summary">
        <h4>Summary Statistics</h4>
        <ul class="list-group">
          <li class="list-group-item d-flex justify-content-between">
            <span>Total Registrations:</span>
            <strong>{{ registrants.count }}</strong>
          </li>
        </ul>

        <!-- Organization Breakdown
        <h5 class="mt-3">Top Organization Types</h5>
        <ul class="list-group">
          {% for label, count in org_type_counts %}
            <li class="list-group-item d-flex justify-content-between">
              <span>{{ label }}:</span>
              <strong>{{ count }}</strong>
            </li>
          {% empty %}
            <li class="list-group-item">No organization data available</li>
          {% endfor %}
        </ul> -->
      </div>
    </div>

    <!-- Page Break -->
    <div class="page-break"></div>

    <!-- Print Button -->
    <div class="d-flex justify-content-end no-print mb-3">
      <button onclick="window.print()" class="btn btn-sm btn-primary">
        <i class="fas fa-print"></i> Print
      </button>
    </div>

    <!-- Registrations Table -->
    <h4 class="mb-3">Registrations List</h4>
    <table class="table table-bordered table-sm">
      <thead class="table-light">
        <tr>
          <th>#</th>
          <th>Full Name</th>
          <th>Email</th>
          <th>Phone</th>
          <th>Organization</th>
          <th>Job Title</th>
          <th>Interests</th>
        </tr>
      </thead>
      <tbody>
        {% for reg in registrants %}
        <tr>
          <td>{{ forloop.counter }}</td>
          <td>{{ reg.title }} {{ reg.first_name }} {{ reg.second_name }}</td>
          <td>{{ reg.email }}</td>
          <td>{{ reg.phone }}</td>
          <td>{{ reg.display_org_type }}</td>
          <td>{{ reg.job_title|default:"—" }}</td>
          <td>{{ reg.display_interests|default:"—" }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>

  </div>

    <!-- Scripts -->
    <script src="{% static 'vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'vendor/php-email-form/validate.js' %}"></script>
    <script src="{% static 'vendor/aos/aos.js' %}"></script>
    <script src="{% static 'vendor/glightbox/js/glightbox.min.js' %}"></script>
    <script src="{% static 'vendor/purecounter/purecounter_vanilla.js' %}"></script>
    <script src="{% static 'vendor/imagesloaded/imagesloaded.pkgd.min.js' %}"></script>
    <script src="{% static 'vendor/isotope-layout/isotope.pkgd.min.js' %}"></script>
    <script src="{% static 'vendor/swiper/swiper-bundle.min.js' %}"></script>
    <script src="{% static 'js/Accessibility/sienna.min.js' %}" defer></script>
    <script src="{% static 'js/translate.js' %}" ></script>
    <script src="{% static 'js/translater.js' %}" defer></script>
    <script src="https://kit.fontawesome.com/a2e0e9f6d4.js" crossorigin="anonymous"></script>

</body>
</html>
